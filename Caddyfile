# Configuración Caddy para aplicación React/Vite
{
    # Desactivar admin endpoint
    admin off
    # Desactivar HTTPS automático para desarrollo
    auto_https off
}

# Configuración del sitio
:80 {
    # Directorio raíz donde están los archivos
    root * /var/www/html
    
    # Configurar MIME types específicos
    header *.js Content-Type "application/javascript; charset=utf-8"
    header *.mjs Content-Type "application/javascript; charset=utf-8"
    header *.css Content-Type "text/css; charset=utf-8"
    header *.json Content-Type "application/json; charset=utf-8"
    
    # Configuración para SPA (Single Page Application)
    # Intentar servir el archivo, si no existe, servir index.html
    try_files {path} {path}/ /index.html
    
    # Servir archivos estáticos
    file_server
    
    # Logs para debugging
    log {
        output stdout
        format console
    }
    
    # Headers de seguridad opcionales
    header {
        # Permitir CORS si es necesario
        Access-Control-Allow-Origin *
        # Cache para archivos estáticos
        Cache-Control "public, max-age=31536000" *.js *.css *.png *.jpg *.jpeg *.gif *.ico *.svg
    }
} 